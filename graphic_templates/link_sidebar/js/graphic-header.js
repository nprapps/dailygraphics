var classify=function(str){return str.toLowerCase().replace(/\s+/g,'-').replace(/[^\w\-]+/g,'').replace(/\-\-+/g,'-').replace(/^-+/,'').replace(/-+$/,'');};var formatStyle=function(props){var s='';for(var key in props)s+=key+': '+props[key].toString()+'; ';return s;};var makeTranslate=function(x,y){var transform=d3.transform();transform.translate[0]=x;transform.translate[1]=y;return transform.toString();};var getParameterByName=function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "));};var urlToLocation=function(url){var a=document.createElement('a');a.href=url;return a;};var getAPMonth=function(dateObj){var apMonths=['Jan.','Feb.','March','April','May','June','July','Aug.','Sept.','Oct.','Nov.','Dec.'];var thisMonth=+fmtMonthNum(dateObj)-1;return apMonths[thisMonth];};var wrapText=function(texts,width,lineHeight){texts.each(function(){var text=d3.select(this);var words=text.text().split(/\s+/).reverse();var word=null;var line=[];var lineNumber=0;var x=text.attr('x');var y=text.attr('y');var dx=text.attr('dx')?parseFloat(text.attr('dx')):0;var dy=text.attr('dy')?parseFloat(text.attr('dy')):0;var tspan=text.text(null).append('tspan').attr('x',x).attr('y',y).attr('dx',dx+'px').attr('dy',dy+'px');while(word=words.pop()){line.push(word);tspan.text(line.join(' '));if(tspan.node().getComputedTextLength()>width){line.pop();tspan.text(line.join(' '));line=[word];lineNumber+=1;tspan=text.append('tspan').attr('x',x).attr('y',y).attr('dx',dx+'px').attr('dy',(lineNumber*lineHeight)+dy+'px').attr('text-anchor','begin').text(word);}}});};var getLocation=function(href){var l=document.createElement("a");l.href=href;return l;};var isProduction=function(u){var result=true;var u=u||window.location.href;var re_embedded=/^.*parentUrl=(.*)$/;var m=u.match(re_embedded);if(m)u=decodeURIComponent(m[1]);l=getLocation(u);if(l.hostname.startsWith("localhost")||l.hostname.startsWith("stage-")||l.hostname.startsWith("www-s1"))result=false;return result;};if(!String.prototype.trim)String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};